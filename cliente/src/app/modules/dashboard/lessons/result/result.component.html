<div class="wrapper">
  <div class="sa4d25">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-12 col-md-12">
          <img src="{{ plantilla.imgBanner }}" class="card-img-top" alt="..." />
        </div>
        <div class="row">
          <div class="col-12">
            <div *ngFor="let item of resultLesson; index as i" class="fcrse_1">
              <a [routerLink]="[
                            '/dashboard/lesson/lesson-detail',
                            this.item.slug
                          ]" routerLinkActive="router-link-active" class="hf_img">
                <img src="{{
                              item.portada || 'assets/images/courses/portada-base.png'
                            }}" alt="Portada de la item{{ i }}" />
                <div class="course-overlay overlay-peque">
                  <!-- <div class="badge_seller">item pendiente</div> -->
                  <div class="crse_reviews">
                    <i class="uil uil-star"></i> {{ item.leccion.titulo }}
                  </div>
                  <span class="play_btn1"><i class="uil uil-play"></i></span>
                  <div class="crse_timer">Leccion #{{ item.leccion.id }}</div>
                </div>
              </a>
              <div class="hs_content">

                <a [routerLink]="[
                              '/dashboard/lesson/lesson-detail',
                              this.item.leccion.slug
                            ]" routerLinkActive="router-link-active" class="crse14s title900">
                  <strong><i class="fas fa-bullseye color-secondary"></i> Estudiante:
                  </strong>
                  {{ item.estudiante.nombre }}
                </a>
                <!-- <a href="#" class="crse-cate">Web Development | Python</a> -->
                <div class="auth1lnkprce">
                  <p class="cr1fot">
                    Practica: {{ item.respuestasCorrectas }} respuestas correctas de {{ item.preguntasTotales }}

                  </p>
                  <br>
                  <br>
                  <p class="cr1fot">
                    Calificacion aplica: <a href="#">{{ item.calificacionAplica }}</a>
                    <i *ngIf="item.calificacionAplica !== ''" style="color: green;" class="fas fa-check-circle"></i>
                  </p>

                  <div class="prce142">

                    <button type="button" (click)="calificarSelected(item)" class="btn btn-primary" data-toggle="modal"
                      data-target="#exampleModal">
                      Ver y calificar
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Ver y calificar</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h2>Practica</h2>
        <ul class="test_result_left">
          <li>
            <div class="result_dt">
              <i class="uil uil-check right_ans"></i>
              <p>Correcto<span>({{leccionCalificar?.respuestasCorrectas}})</span></p>
            </div>
          </li>
          <li>
            <div class="result_dt">
              <i class="uil uil-times wrong_ans"></i>
              <p>Incorrecto<span>({{(leccionCalificar?.preguntasTotales -
                    leccionCalificar?.respuestasCorrectas)}})</span></p>
            </div>
          </li>
          <li>
            <div class="result_dt">
              <h4>{{leccionCalificar?.respuestasCorrectas}}</h4>
              <p>Total {{leccionCalificar?.preguntasTotales}}</p>
            </div>
          </li>
        </ul>
        <h2>Aplica</h2>
        <angular-editor disabled [placeholder]="" [(ngModel)]="leccionCalificar.aplicaEstudiante"
          name="leccionCalificar.aplicaEstudiante">
        </angular-editor>
        <h2>Aplica files</h2>
        <a href="{{environment.urlMedia + 'aplica/' + leccionCalificar.aplicaFile }}" target="_blank">
          <i class="fas fa-eye"></i>
        </a>
        <h2>Calificacion</h2>
        <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text"><i class="fas fa-flag"></i></span>
            </div>
            <input class="form-control" type="number" max="10" min="1" step="0.01" [(ngModel)]="leccionCalificar.calificacionAplica" name="leccionCalificar.calificacionAplica" required>
          </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
        <button (click)="guardarCalificacion()" type="button" class="btn btn-primary">Guardar</button>
      </div>
    </div>
  </div>
</div>
